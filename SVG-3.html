<!DOCTYPE html>
<html>
	<head>
		<title></title>
	</head>
	<body>
		
		<svg id="chart" width="500" height="200" style="border:solid 1px #000">
			
		</svg>
		
		<form id="add-point" onsubmit="addPoint(event)">
			<input type="number" max="10" min="0" name="x" id="input-x" step=".1">
			<input type="submit" name="submit">
		</form>
		
		<script>
			var my_array = [];
			for (var i = 0; i < 10; i++) {
				my_array.push(Math.random()*10);
			}
			
			
			function make_chart() {
				var dots = "";
				var points = "";
				for ( var i = 0; i < my_array.length; i++) {
					var cx = 500 / my_array.length * i;
					var cy = 200 - ( 200 / 10 * my_array[i] );
					dots += "<circle r='5' cx='"+cx+"' cy='"+cy+"' style='stroke:#000; stroke-width:2; fill:#f00' />";
					points += cx+","+cy+" ";
				}
			
				var svg_str = "<polyline points='"+points+"' style='fill:none; stroke:#888; stroke-width:3'/>";
				svg_str += dots;
			
				document.getElementById("chart").innerHTML = svg_str;
			}
			
			make_chart();
			
			function addPoint(event) {
				event.preventDefault();
				console.log("addpoint");
				var x = document.getElementById("input-x").value;
				my_array.push(x);
				make_chart();
			}
			
		</script>
	</body>
</html>